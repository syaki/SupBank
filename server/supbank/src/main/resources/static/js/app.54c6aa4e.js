(function(t){function e(e){for(var a,r,i=e[0],c=e[1],l=e[2],u=0,h=[];u<i.length;u++)r=i[u],s[r]&&h.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var i=n[r];0!==s[i]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},s={app:0},o=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-1ba8ddf5":"bc47ba60","chunk-24220701":"afb88908","chunk-2d0af0a9":"2402e593","chunk-2d0bd977":"77fca686","chunk-2d0d4063":"2a8e2f8e","chunk-3101a187":"72b0f321"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-1ba8ddf5":1,"chunk-24220701":1,"chunk-3101a187":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-1ba8ddf5":"05044e23","chunk-24220701":"2d5d54d7","chunk-2d0af0a9":"31d6cfe0","chunk-2d0bd977":"31d6cfe0","chunk-2d0d4063":"31d6cfe0","chunk-3101a187":"fe8f3991"}[t]+".css",s=c.p+a,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var l=o[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===s))return e()}var h=document.getElementsByTagName("style");for(i=0;i<h.length;i++){l=h[i],u=l.getAttribute("data-href");if(u===a||u===s)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||s,o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete r[t],p.parentNode.removeChild(p),n(o)},p.href=s;var d=document.getElementsByTagName("head")[0];d.appendChild(p)}).then(function(){r[t]=0}));var a=s[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise(function(e,n){a=s[t]=[e,n]});e.push(a[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t),l=function(e){u.onerror=u.onload=null,clearTimeout(h);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+a+": "+r+")");o.type=a,o.request=r,n[1](o)}s[t]=void 0}};var h=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var h=0;h<l.length;h++)e(l[h]);var p=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},"10b6":function(t,e,n){},"10d9":function(t,e,n){"use strict";var a=n("37bf"),r=n.n(a);r.a},"37bf":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.showHeader?n("AppHeader"):t._e(),n("el-main",[n("div",{staticClass:"main"},[n("router-view")],1)]),n("AppFooter")],1)},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app-header"}},[n("el-header",{attrs:{height:"54px"}},[n("el-row",[n("el-col",{attrs:{span:6,offset:4}},[n("el-button",{staticClass:"gohome-btn",attrs:{type:"primary",icon:"el-icon-s-home"},on:{click:t.go_home}},[t._v("SUPBANK")])],1),n("el-link",{attrs:{type:"primary",href:"/bitcoin.apk",target:"_blank"}},[t._v("下载APP")]),n("el-col",{attrs:{span:6,offset:6}},[t.username?n("section",{staticClass:"profile-header isSignin"},[n("el-button",{staticClass:"username-brand",attrs:{icon:"el-icon-user-solid",type:"primary",plain:""}},[t._v(t._s(t.username))]),n("el-button",{staticClass:"signout-btn",attrs:{type:"primary",plain:""},on:{click:t.sign_out}},[t._v("Sign Out")])],1):t._e()]),n("el-col",{attrs:{span:6,offset:6}},[t.username?t._e():n("section",{staticClass:"profile-header noSignin"},[n("el-button",{staticClass:"signin-btn",attrs:{type:"primary",plain:""},on:{click:t.sign_in}},[t._v("Sign In")]),n("el-button",{staticClass:"signup-btn",attrs:{type:"primary",plain:""},on:{click:t.sign_up}},[t._v("Sign Up")])],1)])],1)],1)],1)},i=[],c={name:"AppHeader",data:function(){return{username:""}},created:function(){sessionStorage.getItem("username")?this.username=sessionStorage.getItem("username"):this.username=""},methods:{go_home:function(){this.$router.push({path:"/"})},sign_in:function(){this.$router.push({path:"/signin"})},sign_up:function(){this.$router.push({path:"/signup"})},sign_out:function(){var t=this;this.$axios({method:"post",url:"/user/logout"}).then(function(e){"success"===e.data.status.Ack?(sessionStorage.removeItem("username"),t.$message({message:"退出成功",type:"success"}),t.$router.go(0)):t.$message.error(e.data.status.ErrorMessage)}).catch(function(e){t.$message.error(e)})}}},l=c,u=(n("a2df"),n("2877")),h=Object(u["a"])(l,o,i,!1,null,"5d01c714",null),p=h.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app-footer"}},[n("el-footer",{attrs:{height:"28px"}},[n("div",{staticClass:"footer-copyright"},[t._v("\n      ©\n      "),n("span",{attrs:{itemprop:"copyrightYear"}},[t._v("2019   ")]),n("i",{staticClass:"dividerCol"}),n("span",{staticClass:"siteName"},[t._v("SupBank  ")]),n("i",{staticClass:"el-icon-map-location"}),n("span",{staticClass:"location"},[t._v("  Tianjin - China")])])])],1)},f=[],m={name:"AppFooter"},g=m,b=(n("10d9"),Object(u["a"])(g,d,f,!1,null,"0fb10eb0",null)),v=b.exports,k={name:"app",components:{AppHeader:p,AppFooter:v},data:function(){return{showHeader:!0}},created:function(){if((/AppleWebKit.*mobile/i.test(navigator.userAgent)||/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))&&window.location.href.indexOf("?mobile")<0)try{/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)&&(this.showHeader=!1,this.$router.push({path:"homeMobile"}))}catch(t){}}},y=k,_=(n("034f"),Object(u["a"])(y,r,s,!1,null,null,null)),S=_.exports,w=n("8c4f"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("section",{staticClass:"card search-container"},[n("p",{staticClass:"title"},[t._v("Search Blockchain")]),n("el-form",{attrs:{inline:!0,model:t.searchForm}},[n("el-form-item",{staticClass:"search-input-container",attrs:{prop:"keyword",rules:[{required:!0,message:"搜索框不能为空"}]}},[n("el-input",{staticClass:"search-input",attrs:{placeholder:"You can lookup address, transactions, blocks or hash..."},model:{value:t.searchForm.keyword,callback:function(e){t.$set(t.searchForm,"keyword",e)},expression:"searchForm.keyword"}})],1),n("el-form-item",{staticClass:"search-btn-container"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("查询")])],1)],1)],1),n("section",{staticClass:"card"},[n("p",{staticClass:"title"},[t._v("Transactions List")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.transactionList,stripe:""}},[n("el-table-column",{attrs:{prop:"timestamp",label:"日期",width:"160",fixed:""}}),n("el-table-column",{attrs:{prop:"sum",label:"金额",width:"60",fixed:""}}),n("el-table-column",{attrs:{prop:"output",label:"收款方"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.get_txs_detail(e.row)}}},[t._v("查看")])]}}])})],1)],1),n("section",{staticClass:"card"},[n("p",{staticClass:"title"},[t._v("Blockchain List")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.currentBlockList,stripe:""}},[n("el-table-column",{attrs:{prop:"height",label:"高度",width:"80",fixed:""}}),n("el-table-column",{attrs:{prop:"hash",label:"Hash"}}),n("el-table-column",{attrs:{prop:"prehash",label:"Prev Hash"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.get_block_detail(e.row)}}},[t._v("查看")])]}}])})],1),n("el-pagination",{attrs:{"hide-on-single-page":t.value,layout:"prev, pager, next",total:t.blockList.length},on:{"current-change":t.handleCurrentChange}})],1)])},L=[],x=(n("6b54"),{name:"home",data:function(){return{transactionList:[],blockList:[],searchForm:{keyword:""},currentBlockList:[],value:!0}},created:function(){var t=this;this.$axios({method:"post",url:"/homePage/getLastTransaction",data:{}}).then(function(e){var n=e.data;if("success"===n.status.Ack){for(var a=0;a<n.transactionList.length;a++){var r=n.transactionList[a],s=new Date(r.timestamp);r.timestamp=s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()+"  "+(s.getHours()>=10?s.getHours():"0"+s.getHours().toString())+":"+(s.getMinutes()>=10?s.getMinutes():"0"+s.getMinutes().toString())+":"+(s.getSeconds()>=10?s.getSeconds():"0"+s.getSeconds().toString())}t.transactionList=n.transactionList}else t.$message.error("请先登录"),sessionStorage.removeItem("username")}).catch(function(){t.$message.error("获取数据失败")}),this.$axios({method:"post",url:"/block/longestLegalChain",data:{pageNumber:"1"}}).then(function(e){var n=e.data;"success"===n.status.Ack?(t.blockList=n.longestLegalChain,t.currentBlockList=t.blockList.slice(0,10),t.blockList.length>10&&(t.value=!1)):(t.$message.error("请先登录"),sessionStorage.removeItem("username"))}).catch(function(){t.$message.error("获取数据失败")})},methods:{handleCurrentChange:function(t){this.currentBlockList=this.blockList.slice(10*t-10,10*t)},search:function(){!this.searchForm.keyword||this.searchForm.keyword.length<=0?this.$message({message:"请输入搜索关键字",type:"warning"}):this.$router.push({path:"search",query:{q:this.searchForm.keyword}})},get_txs_detail:function(t){this.$router.push({path:"transaction",query:{q:t.transactionid}})},get_block_detail:function(t){this.$router.push({path:"block",query:{q:t.blockid}})}}}),A=x,$=(n("a3d0"),Object(u["a"])(A,C,L,!1,null,"52235623",null)),O=$.exports;a["default"].use(w["a"]);var E=new w["a"]({routes:[{path:"/",name:"home",component:O,meta:{title:"SupBank"}},{path:"/signup",name:"signup",component:function(){return n.e("chunk-24220701").then(n.bind(null,"34c3"))},meta:{title:"Sign Up"}},{path:"/signin",name:"signin",component:function(){return n.e("chunk-1ba8ddf5").then(n.bind(null,"4a33"))},meta:{title:"Sign In"}},{path:"/search",name:"search",component:function(){return n.e("chunk-2d0bd977").then(n.bind(null,"2d3b"))},meta:{title:"Search"}},{path:"/transaction",name:"transaction",component:function(){return n.e("chunk-2d0af0a9").then(n.bind(null,"0d43"))},meta:{title:"Transaction"}},{path:"/block",name:"block",component:function(){return n.e("chunk-2d0d4063").then(n.bind(null,"5eeb"))},meta:{title:"Block"}},{path:"/homeMobile",name:"homeMobile",component:function(){return n.e("chunk-3101a187").then(n.bind(null,"cd7e"))},meta:{title:"Home"}}]}),P=n("5c96"),B=n.n(P),T=(n("0fae"),n("bc3a")),j=n.n(T);a["default"].prototype.$axios=j.a,a["default"].config.productionTip=!1,a["default"].use(B.a),E.afterEach(function(t){document.title=t.meta.title||"SupBank"}),new a["default"]({router:E,render:function(t){return t(S)}}).$mount("#app")},"64a9":function(t,e,n){},a2df:function(t,e,n){"use strict";var a=n("b740"),r=n.n(a);r.a},a3d0:function(t,e,n){"use strict";var a=n("10b6"),r=n.n(a);r.a},b740:function(t,e,n){}});
//# sourceMappingURL=app.54c6aa4e.js.map